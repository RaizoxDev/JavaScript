<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function verifierCleCpam(numero){
            if(typeof numero !== 'string'){
                console.error("Le numéro doit être une chaine de caractères.")
                return false;
            }
            if(!/^\d{15}$/test(numero)){
                console.error("Le numéro doit contenir exactement 15 chiffres.")
                return false;
            }
            const partieNumerique = numero.substring(0, 13);
            const cleDonnee = number.substring(13);
            if(partieNumerique.length !== 13){
                console.error("La partie numérique doit être composée de 13 chiffres.")
                return false;
            }
            if(cleDonnee.length !== 2){
                console.error("La clé doit être composée de 2 chiffres.")
                return false;
            }
            console.log('numero.. , ', numero);
            console.log('partieNumerique.. , ', partieNumerique);
            console.log('cleDonnee.. , ', cleDonnee);
            const num = BigInt(partieNumerique);
            const rest = Number(num % 97n);
            let cleCalculee = 97 - rest;
            if(cleCalculee === 0){
                cleCalculee = 97;
            }
            const cleFormatee = cleCalculee.toString().padStart(2, '0');
            if(cleFormatee === cleDonnee){
                console.log("La clé est valide.");
                return true;
            } else {
                console.log("La clé n'est pas valide.");
                return false;
            }
        }
        function testVerifierCpam(){
            const tests = [
            ];
            test.forEach(test => {
                console.log('\ntest avec le numéro : ${})
                const resultat = verifierCleCpam(test);
            });
        }
        testVerifierCpam();
    </script>
</body>
</html>